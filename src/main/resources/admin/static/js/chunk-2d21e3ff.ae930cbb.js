(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e3ff"],{d580:function(t,o,e){"use strict";e.r(o);var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("el-form",{ref:"profileForm",attrs:{"label-position":"top",model:t.options,size:"small"}},[e("el-form-item",{attrs:{label:"博客名：",prop:"name"}},[e("el-input",{nativeOn:{"!blur":function(o){return t.addUpdateOption("name")}},model:{value:t.options.name,callback:function(o){t.$set(t.options,"name",o)},expression:"options.name"}})],1),e("el-form-item",{attrs:{label:"博客描述：",prop:"description"}},[e("el-input",{nativeOn:{"!blur":function(o){return t.addUpdateOption("description")}},model:{value:t.options.description,callback:function(o){t.$set(t.options,"description",o)},expression:"options.description"}})],1),e("el-form-item",{attrs:{label:"博客主页地址：",prop:"url"}},[e("el-input",{attrs:{placeholder:"请附带http[s]://前缀"},nativeOn:{"!blur":function(o){t.checkUrl(),t.addUpdateOption("url")}},model:{value:t.options.url,callback:function(o){t.$set(t.options,"url",o)},expression:"options.url"}})],1),e("el-form-item",{attrs:{label:"博客Logo：",prop:"logo"}},[e("el-input",{model:{value:t.options.logo,callback:function(o){t.$set(t.options,"logo",o)},expression:"options.logo"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-picture"},on:{click:function(o){t.selectLogoDrawer=!0}},slot:"append"})],1)],1),e("el-form-item",{attrs:{label:"博客Favicon：",prop:"favicon"}},[e("el-input",{model:{value:t.options.favicon,callback:function(o){t.$set(t.options,"favicon",o)},expression:"options.favicon"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-picture"},on:{click:function(o){t.selectFaviconDrawer=!0}},slot:"append"})],1)],1),e("el-form-item",{attrs:{label:"页脚信息：",prop:"footer"}},[e("el-input",{attrs:{rows:5,type:"textarea",placeholder:"可填入HTML文本"},nativeOn:{"!blur":function(o){return t.addUpdateOption("footer")}},model:{value:t.options.footer,callback:function(o){t.$set(t.options,"footer",o)},expression:"options.footer"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.updateOption}},[t._v("保 存")])],1)],1),e("el-drawer",{attrs:{visible:t.selectLogoDrawer,"destroy-on-close":"",direction:"rtl",title:"选择Logo"},on:{"update:visible":function(o){t.selectLogoDrawer=o}}},[e("v-attachment-select",{ref:"selectLogoDrawer",staticStyle:{padding:"0 20px"},on:{selected:t.updateLogo}})],1),e("el-drawer",{attrs:{visible:t.selectFaviconDrawer,"destroy-on-close":"",direction:"rtl",title:"选择Favicon"},on:{"update:visible":function(o){t.selectFaviconDrawer=o}}},[e("v-attachment-select",{ref:"selectFaviconDrawer",staticStyle:{padding:"0 20px"},on:{selected:t.updateFavicon}})],1)],1)},i=[],a=(e("d3b7"),e("3ca3"),e("ddb0"),e("ac1f"),e("00b4"),e("4d63"),e("2c3e"),e("25f0"),e("482b")),s=e("ed08"),l={name:"RBlogSetting",components:{"v-attachment-select":function(){return e.e("chunk-eb23a340").then(e.bind(null,"1d98"))}},data:function(){return this.host=window.location.protocol+"//"+window.location.host,{options:{},updateOptions:{},selectLogoDrawer:!1,selectFaviconDrawer:!1}},created:function(){this.options=Object(s["a"])(this.$store.getters.options)},methods:{updateLogo:function(t){this.options.logo=this.host+t.path,this.selectLogoDrawer=!1,this.addUpdateOption("logo")},updateFavicon:function(t){this.options.favicon=this.host+t.path,this.selectFaviconDrawer=!1,this.addUpdateOption("favicon")},updateOption:function(){var t=this;Object(a["b"])(this.updateOptions).then((function(o){t.$message.success(o.message),t.$store.dispatch("option/getOptions")}))},checkUrl:function(){var t=this.options.url||"";new RegExp("^https?://").test(t)||(this.options.url="http://"+t)},addUpdateOption:function(t){this.updateOptions[t]=this.options[t]}}},r=l,p=e("2877"),c=Object(p["a"])(r,n,i,!1,null,"0303d65a",null);o["default"]=c.exports}}]);